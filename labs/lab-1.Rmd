---
title: "Lab 1: Introduction to R and RStudio"
output: 
  html_document: 
    theme: cosmo
    toc: yes
    toc_depth: 3
    toc_float: TRUE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

# suppress scientific notation
options(scipen = 999)
```

# Purpose

The purpose of today's lab is not teach you everything there is to know about coding in R. It is not even to describe why the code in R works the way it does. Instead, we take an applied approach to learning R. We hope that giving you a functional understanding of R and suggesting some strategies for overcoming coding obstacles you will be able to begin playing around with the language. As with other coding languages, getting hands-on experience with R is one of the fastest ways to learn the language.

To that end, today's lab will cover:

1. [How to download and install R and RStudio](#gs)
1. [The panes of RStudio](#rstudio)
1. [How to create and use R Markdown Documents](#rmarkdown)
1. [(Some of) the different types of variables in R](#variables)
1. [Functions](#functions)
1. [How to install and load packages](#packages) and...
1. [How to load data](#data)

After we have covered the lab content, we will move on to [Minihacks](#minihacks). Minihacks are small coding projects intended to test your knowledge of the day's material. The minihacks will be similar to, but slightly narrower in focus, than the homework questions. If you are able succesfully complete all the minihacks, you should be well equipped to tackle the homeworks. 

***

# Getting Started {#gs}

So what is R? 

In the simplest possible terms, R is a programming language used for conducting analyses and producing graphics. It is substantially more flexible than GUI-based statistics programs (e.g., SPSS, LISREL), but less flexible compared to other programming languages. In this case, its lack of flexibility is an asset; it allows the code to written in a far more efficient and intuitive way than other programming languages. R *is* relatively new compared to other programming languages, but it is quickly becoming one of the most used languages by data scientists.

![](`r here::here("labs", "resources", "lab1", "other", "lab1_flow.png")` "Flow")

Only one piece of software is required to get started using the R programming language and, confusingly, it is also called R. I will refer to it here as the *R Engine*. The R Engine essentially allows the computer to understand the R programming language, turning your lines of text into computer operations. Unlike other popular statistics programs (e.g., SPSS, SAS), the R Engine is free. [Instructions for downloading the R Engine](#download_r) are below.

A second piece of software that is not required to use R but is nonetheless useful is [RStudio](https://www.rstudio.com). [RStudio](https://www.rstudio.com) is an *integrated development environment* (IDE) or, in potentially overly simplistic terms, a tool that makes interacting with the R Engine easier. [Instructions for downloading the RStudio](#download_rstudio) are below.

## Downloading the R Engine {#download_r}

1. Navigate to the webpage for the [Comprehensive R Archive Network](https://cran.r-project.org) (commonly referred to as CRAN).
1. Under "Download and Install R" click the appropriate link for your operating system. I am using a Mac, so I would click [Download R for (Mac) OS X](https://cran.r-project.org/bin/macosx/).
1. Click the link for the latest release. As of writing this, the newest package is `R 3.6.1. "Action of the Toes"` (all version nicknames are references to the [Peanuts comic strip](https://twitter.com/snoopy/status/976452382480531458)). I would click `R-3.6.1.pkg` to start the download.
1. Once the file is downloaded, click on it to open it. Your operating system should guide you through the rest of the installation process. 

*Note.* The same steps are used to update the R Engine: You install a new version, replacing the old version in the process.

## Downloading RStudio {#download_rstudio}
<!--1. Navigate to the webpage for [RStudio](https://www.rstudio.com).
1. Click [Download RStudio](https://www.rstudio.com/products/rstudio/download/).
1. Click the [Download](https://www.rstudio.com/products/rstudio/download/#download) listed under the free version. For our purposes (and, in fact, for most people's purposes) the free version is all that is needed.-->
1. Navigate to the webpage for the free version of [RStudio](https://www.rstudio.com/products/rstudio/download/#download). For our purposes (and, in fact, for most people's purposes) the free version is all that you need. The available installers are listed at the bottom of the page under the heeader "Installers for Supported Platforms."
1. Select the installer for your operating system. Since I am using a Mac, I would click `RStudio 1.2.1335 - macOS 10.12+ (64-bit)`.
1. Once the file is downloaded, click on it to open it. Your operating system should guide you through the rest of the installation process. 

*Note.* To update [RStudio](https://www.rstudio.com) after it is already installed, all you have to do is navigate to `Help > Check for Updates` in the menubar. 

***

# Features of RStudio

As shown in the image below, an [RStudio](https://www.rstudio.com) session is split into four sections called panes: [the source pane](#rstudio_source), [the console](#rstudio_console), [the environment/history pane](#rstudio_environment), and the succinctly named [files/plots/packages/help pane](#rstudio_files).

![](`r here::here("labs", "resources", "lab1", "rstudio", "lab1_rstudio_4panel.jpg")` "Four Panes of RStudio")

## The Console {#rstudio_console}

In RStudio, the console is the access point to the underlying R-engine. It evaluates the code you provide it (including code called using the [the source pane](#rstudio_source)). You can pass commands to the R-engine by typing in commands after the `>`.

![](`r here::here("labs", "resources", "lab1", "rstudio", "lab1_rstudio_console.png")` "RStudio Console Pane")

## Source {#rstudio_source}

The source pane shows you a collection of code called a script. In R, we primarily work with `R Script` files (files ending in `.R`) or `R Markdown` files (files ending in `.Rmd`). In this class, we will mostly be working with `R Markdown` files. In fact, the document you are reading right now was made with `R Markdown`.

![](`r here::here("labs", "resources", "lab1", "rstudio", "lab1_rstudio_source.png")` "RStudio Source Pane")

## Environment/History {#rstudio_environment}

The environment and history pane shows, well, your environment and history. Specifically, if you have the "Environment" tab selected, you will see a list of all the variables that exist in your global environment. If you have the "History" tab selected, you will see previous commands that you passed to the console. 

![](`r here::here("labs", "resources", "lab1", "rstudio", "lab1_rstudio_environment.png")` "RStudio Environment Pane")

## Files/Plots/Packages/Help {#rstudio_files}

The final pane---the files/plots/packages/help pane--includes a number of helpful tabs. The "Files" tab shows you the files in your current working directory, the "Plots" tab shows you a preview of any plots you have created, the "Packages" tab shows you a list of the packages currently installed on your computer, and the "Help" tab is where help documentation will appear. We will discuss packages and help documentation later in this lab.

![](`r here::here("labs", "resources", "lab1", "rstudio", "lab1_rstudio_files.png")` "RStudio Files Pane")

***

# R Markdown {#rmarkdown}

As noted above, you will mostly be using `R Markdown` documents in this course (i.e., it is required that your homeworks be created using `R Markdown` documents). 

## Creating an R Markdown Document

(@) Click on the blank piece of paper with the plus sign over it in the upper left-hand corner of RStudio.

(@) Click on `R Markdown...`.

```{r, echo = FALSE, out.width = "250px", fig.align="center"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "rmarkdown", "lab1_menu_an.png"))
```

(@) Enter the title of document and your name. For the purposes of this example, I have chosen to title the document `lab_1` and I have chosen--for the 9,701st day in a row--to name myself `Cameron`.

<center>
![](`r here::here("labs", "resources", "lab1", "rmarkdown", "lab1_doc_pref.png")` "R Markdown Document Preferences")
</center>

Congratulations! You now have an `R Markdown` document!

## Using an R Markdown Document

The content of `R Markdown` documents is split into main types. I will call the first type *simple text*. Simple text will not be evaluated by the computer other than to be formatted according to markdown syntax. If you are answering a homework question or interpreting the results of an analysis, you will likely be using simple text. The markdown syntax allows you to format the text such as italicizing words when they are enclosed in asterisks (e.g., `*this is italicized*` becomes *this is italicized*) or bolding words when they are enclosed in double-asterisks (e.g., `**this is bold**` becomes **this is bold**). For a quick run down of R Markdown formatting, I suggest you check out the Markdown section of the [R Markdown Cheat Sheet](https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf). 

In addition to simple text, `R Markdown` documents support blocks (also called chunks) of *R code*. The blocks of R code **are** evaluated by the computer. R code chunks are surround by ` ```{r} ` and ` ``` ` to tell the computer that the contents should be evaluated. In the example image below, the `1 + 2` in the R Code chunk will be evaluated when the document is "knitted" (rendered). A code chunk is where you will write the analyses for your homeworks.

<center>
![](`r here::here("labs", "resources", "lab1", "rmarkdown", "lab1_raw.png")` "R Markdown Document Preferences")
</center>

## Knitting an R Markdown Document

In order to knit an R Markdown document, you can either click `command + shift + k` or click the button at the top of the R Markdown document that says `Knit`. The computer will take several seconds (or, depending on the length of the R Markdown document, several minutes) to knit the document. Once the computer has finished knitting the document, a new document will appear in the same location that the `R Markdown` document is saved. In this example, the new document will end with a `.html` extension. 

<center>
![](`r here::here("labs", "resources", "lab1", "rmarkdown", "lab1_knit.png")` "R Markdown Document Preferences")
</center>

As shown in the above image, the simple text in the `R Markdown` document on the left was rendered into a formatted in the knitted document on the right. The equation in the code chunk was also evaluated in the knitted document, returning the value `3`.

***

# The Basics of Coding in R

## Arithmetic commands

As mentioned above, you can pass commands to the R-engine via the console. R has arithmetic commands for doing basic math operations, including addition (`+`), subtraction (`-`), multiplication (`*`), division (`/`), and exponentiation (`^`).

```{r, echo = FALSE, out.width = "175px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "arithmetic", "lab1_addition.png"))
knitr::include_graphics(here::here("labs", "resources", "lab1", "arithmetic", "lab1_subtraction.png"))
knitr::include_graphics(here::here("labs", "resources", "lab1", "arithmetic", "lab1_multiplication.png"))
knitr::include_graphics(here::here("labs", "resources", "lab1", "arithmetic", "lab1_division.png"))
knitr::include_graphics(here::here("labs", "resources", "lab1", "arithmetic", "lab1_exponentiation.png"))
```

R will automatically follow the PEMDAS order of operations (BEDMAS if you are Canadian). Parentheses can be used to tell R what parts of the equation should be evaluated first. As shown below (and as expected), `(10 + 5) * 2` is not equivalent to `10 + 5 * 2`.

```{r, echo = FALSE, out.width = "175px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "arithmetic", "lab1_paren.png"))
knitr::include_graphics(here::here("labs", "resources", "lab1", "arithmetic", "lab1_noparen.png"))
```

## Creating Variables {#variables}

You can create variables using the assignment operator (`<-`). Whatever is on the left of the assignment operator is saved to name specified on the right of the assignment operator. I like to imagine that there is a box with a name on it and you are placing a value, inside of the box. For example, if we wanted to place `10` into a variable called `my_number` we would write:

```{r, echo = FALSE, out.width = "450px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "assignment", "lab1_assign.png"))
```

If we want to see what is stored in `my_number`, we can simply type `my_number` into the console and press `enter`. It is essentially asking the computer, "What's in the box?"

```{r, echo = FALSE, out.width = "450px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "assignment", "lab1_peek.png"))
```

If we want to overwrite `my_number` with a new value, we simply assign a new value to `my_number`.

```{r, echo = FALSE, out.width = "450px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "assignment", "lab1_reassign.png"))
```

Looking at `my_number` again, we can see that it is now `20`.

```{r, echo = FALSE, out.width = "450px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "assignment", "lab1_peek2.png"))
```

You can treat variables (e.g., `my_number`) just like you would the underlying values. For example, you could add `5` to my number.

```{r, echo = FALSE, out.width = "450px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "assignment", "lab1_var_add.png"))
```

Keep in mind, the above operation does not save the result of `my_number + 5` to `my_number`. To do that, you would have to assign the result of `my_number + 5` to `my_number`.

```{r, echo = FALSE, out.width = "450px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "assignment", "lab1_reassign_add.png"))
```

Finally, if we want to remove a variable from our environment, we can use `rm()`.

```{r, echo = FALSE, out.width = "450px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "assignment", "lab1_rm.png"))
```

### Types of Variables

<!--If a variable only has one value associated with it, we call it a `scalar`.-->Variables can be of four types (also shown in the table below): (1) `logical` values (also called `booleans`) that can be either `TRUE` or `FALSE`, (2) `integer` values, which are denoted by the suffix `L` and are whole numbers (i.e., numbers without decimal values), (3) `doubles`, which arenumbers that include values before and after the decimal point (most `numeric` values in R default to doubles), and (4) `character` values (also called `strings`), which are pieces of text enclosed in quotation marks (`"`).

| Type            | Examples             |
|-----------------|----------------------|   
| Logical/Boolean |    `TRUE`,   `FALSE` |
| Integer         |     `10L`,    `-10L` |
| Double          |   `10.50`,  `-10.50` |
| Character       | `"Hello"`, `"World"` |

### Vectors

#### Atomic Vectors

A collection of values is called a `vector`. If they are all of the same type, we call them `atomic vectors`. In R, we use the `c()` command to concatenate (or combine) values into an `atomic vector`.

```{r, echo = FALSE, out.width = "350px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_vector.png"))
```

Just as we did with the `scalar` values above, we can assign a vector to a variable.

```{r, echo = FALSE, out.width = "350px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_vec_assign.png"))
```

To print out the entire vector, we can simply type `my_vector` into the console.

```{r, echo = FALSE, out.width = "350px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_vec_print.png"))
```

In order to select just one value from the vector, we use square brackets (`[]`). For example, if we wanted the third value from `my_vector` we would type `my_vector[3]`^[1](#foot_vector)^. 

```{r, echo = FALSE, out.width = "350px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_vec_index.png"))
```

If we want to replace a specific value in a vector, we use the assignment operator (`<-`) in conjunction with the square brackets (`[]`).

```{r, echo = FALSE, out.width = "350px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_vec_index_assign.png"))
```

As with single-value objects, we can perform arithmetic operations on vectors, but the behaviour is not identical to that for single values. If the vectors are the same length, each value from one vector will be paired with the corresponding value from the other vector. See below for an example of this in action.

```{r, echo = FALSE, out.width = "350px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_vec_add.png"))
```

If the vectors of different lengths, the shorter vector will be recycled (i.e., repeated) to be the same length as the longer vector.

```{r, echo = FALSE, out.width = "350px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_vec_recycle.png"))
```

This also works when the longer vector is not a multiple of the shorter vector, but you will get the warning: `longer object length is not a multiple of shorter object length`.

```{r, echo = FALSE, out.width = "350px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_vec_recycle_odd.png"))
```

***

###### 1. Unlike most other coding languages (e.g., python), indices in R start at `1` instead of `0`. For instance, if you want to select the first element of a vector, you write `my_vector[1]` instead of `my_vector[0]`. A second difference to keep in mind is that, in R, `-` will remove the value matching that index value from the vector rather than counting back from the end of the string. By way of illustration, if your vector was `c(10, 20, 30, 40, 50, 60)` using `vector[-2]` in R would return `c(10, 30, 40, 50, 60)` and in python it would return `50`. {#foot_vector} 

#### Lists

A vector that can accomodate more than one type of value (e.g., a `double` AND a `character`) is called a `list`. To create a list, we use `list()` instead of `c()`. For instance, if we wanted to create a vector with the values `10`, `"hello"`, and `TRUE` we would use `list(10, "hello", TRUE)` as shown below.

```{r, echo = FALSE, out.width = "300px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "vectors", "lab1_lists.png"))
```


Although `lists` are an incredibly powerful type of data structure, dealing with them can be quite frustrating (especially for beginning coders). Since you are unlikely to need to know the inner workings of `list`s for anything we will be doing in this course, I have chosen not to include much about them here. However, as you become a more advanced user, learning to leverage lists will make your code far more efficient. 

### Data Frames

In R you will mostly be working with data frames. A dataframe is technically a list of atomic vectors. For our purposes, we can think of data frames as a spread sheet that has columns for variables and rows for observations. 

Let's look at a data frame that is automatically loaded when you open R, `mtcars`. Type `mtcars` to print out the data frame. 

```{r, echo = FALSE, out.width = "600px"}
knitr::include_graphics(here::here("labs", "resources", "lab1", "dataframes", "lab1_mtcars.png"))
```

The data frame `mtcars` has a row for 32 cars featured in the *1974 Motor Trend* magazine. There is a row for the car's miles per gallon (`mpg`), number of cylinders (`cyl`), engine displacement (`disp`), horse power (`hp`), rear axle ratio (`drat`), weight in thousands of pounds (`wt`), quarter-mile time (`qsec`), engine shape (`vs`), transmission type (`am`), number of forward gears (`gear`), and number of carburetors (`carb`).

With data frames, you can extract a value by including `[row, col]` immediately after the object. For example, if we wanted to extract the value for the number of gears in the `Datsun 710` we could use `mtcars[3, 10]` to extract the value of the third row in the tenth column.

```{r}
mtcars[3, 10]
```

Since the rows and columns have names, we can also be explicit and use the name of the row and the name of the column instead of the row and column indices.

```{r}
mtcars["Datsun 710", "gear"]
```

If you want to extract an entire column or an entire row, you can drop the index value for the row or column, respectively. Since you don't specify a given row or column that you want, the computer assumes you want all values. For example, to extract all values stored in the gear column, we drop the row index (e.g., `[, 10]` or `[, "gear"]`).

```{r}
mtcars[, 10]
mtcars[, "gear"]
```

To extract all values associated with the `Datsun 710`, we drop the column index (e.g., `[3, ]` or `["Datsun 710", ]`)

```{r}
mtcars[3, ]
mtcars["Datsun 710", ]
```

You can also extract columns using `$` followed by the column name without quotes.

```{r}
mtcars$gear
```

If we want to extract multiple columns (or multiple rows) we can also use vectors. For example, if we wanted number of gears and carboraters of the Datsun 710 and the Duster 360 we can use `[c("Datsun 710", "Duster 360"), c("gear", "carb")]`.

```{r}
mtcars[c("Datsun 710", "Duster 360"), c("gear", "carb")]
```

## Functions {#functions}

Functions are essentially pre-packaged snippets of code that make your life easier. A function takes one or more pieces of input (called `arguments`) and returns one or more pieces called output (called `values`). For example, `length()` is a function that takes a vector as its sole argument and returns the length of the vector as its value. 

```{r}
length(c(10, 20, 30, 40, 50, 60))
```

The function `unique()` also takes a vector as its primary argument, but---instead of returning the length of the vector as its value---it returns the vector's unique values.

```{r}
unique(c("condition_a", "condition_a", "condition_b", "condition_a", "condition_b"))
```

The `mean()` function and `sd()` function are two functions that you will end up using a lot. The former takes a numeric vector as one of its arguments and returns the average of that vector as its output. The latter also takes a numeric vector as one of its arguments, but it returns the standard deviation of that vector as its output. 

```{r}
mean(c(10, 20, 30, 40, 50, 60))
sd(c(10, 20, 30, 40, 50, 60))
```

Although it is more conceptual, it would also be useful to mention the `typeof()` function here. The function `typeof()` takes any object and tells you what type of variable it is.

```{r}
typeof(10L)
typeof(10)
typeof("hello")
typeof(TRUE)
```

Using the suite of `as.*()` functions (e.g., `as.numeric()`, `as.character()`, `as.logical()`, `as.integer()`), we can also coerce objects to other types.

```{r}
as.numeric("10")
as.character(10)
as.character(TRUE)
as.numeric(TRUE)
as.integer(10.30)
```

## Help Documentation

Sometimes when working in R you will want to know more about a function. For example, you might want to know what arguments the function `sd` takes. You can use `?` at the beginning of any function call to display the help documentation.

```{r, eval = FALSE}
?sd
```

![](`r here::here("labs", "resources", "lab1", "lab1_help.png")` "Help Documentation")

From the help documentation we can see that `sd` takes two arguments: (1) An R object and (2) a `TRUE` or `FALSE` statement indicating whether `NA`s (unknown values) should be removed before the standard deviation is calculated. 

Normally R will infer, based on the order, what values are being passed as what argument. For example, since `sd()` expects that the argument `x` will be provided first and the argument `na.rm` will be provided second, the following works:

```{r}
sd(c(10, 20, 30, 40, 50, 60), FALSE)
```

However, we can make it explicit and tell R what values are associated with which arguments.

```{r}
sd(x = c(10, 20, 30, 40, 50, 60), na.rm = FALSE)
```

The help documentation for a function also often includes an example of how to use the function and details on what the output will be.

<!--## Comments

Comments are pieces of text that are not interpreted by the computer. They are mostly used as a way to remind yourself what your code is doing or why you did something a certain way. In R we use the octothorp/pound-sign/hashmark/hashtag at the beginning of the line to denote a comment. In the example below, the first and third line of code would not not be evaluated while the second and fourth line would be.-->

```{r, eval = FALSE, include = FALSE}
# 1 + 1
2 + 2
# 3 + 3
4 + 4
```

***

## Packages {#packages}

A `package` can include code, documentation for that code, and/or data. A helpful way to think of packages is as a toolbox full of data analysis tools. 

![](`r here::here("labs", "resources", "lab1", "packages", "psych_toolbox_2.png")` "RStudio Source Pane")

There are general purpose toolboxes that contain tools for running common analyses in psychology (e.g., `psych`), toolboxes for helping your run advanced statistical models (e.g., `lavaan`; `lmer`), toolboxes for text mining (e.g., `tidytext`), and toolboxes for plotting (e.g., `ggplot2`, `gganimate`). If you have a problem that needs to be solved, there will probably be a package for it. 

### Installing packages

To install a package onto your computer, you simply pass the name of the package to `install.packages()`. As a demonstration, we install the `psych` package below. The `psych` package has a panoply of useful data analysis tools for psychologists. You generally only need to install a package once.  
```{r, eval = FALSE}
install.packages("psych")
```

*Note.* When installing packages, the package name must be enclosed in quotes: `install.packages("psych")` **NOT** `install.packages(psych)`.

### Loading a package

Just because we've installed a package to our computer doesn't mean we have access to its functions. Buying a toolbox doesn't necessarily give you access to its tools. You also have to open the toolbox. To open the toolbox and load its tools, we use `library()`. Below we load the `psych` pacakge.

```{r}
library(psych)
```

We have to load a package every time R is restarted.

*Note.* A package can be loaded with or without quotes: `library("psych")` **OR** `library(psych)`.

### Try `psych` commands

Now that we have installed and loaded the `psych` package, let's try out of some its commands.

Using `corr.test()` we can make a correlation matrix of the variables in `mtcars`.

```{r}
corr.test(mtcars)
```

Using `skew`, we can look at the skew of all of the columns in `mtcars`.

```{r}
skew(mtcars)
```

We can use `t2d` to calculate the Cohen's *d* for a t-value of 3.00 with 300 participants.

```{r}
t2d(t = 3.00, n = 300)
```

This is only a small subset of the functions available in the `psych` package, and `psych` is only one package of over 11,000 on CRAN (as of 2018). This is not to mention the tens of thousands of packages hosted on online repositories like (GitHub)[https://github.com]. As Cory Costello noted during R Bootcamp, the question in R is never *if* but *how*.

<!--### Try `yarrr` commands-->

<!--Now that we have installed and loaded the `yarrr` package, let's try out of some its commands (adapted from [__YaRrr: A Pirate's Guide to R__](https://bookdown.org/ndphillips/YaRrr/)).-->

```{r, eval = FALSE, include = FALSE}
# we can look at the documentation for the pirates dataset
?pirates

# we can look at the first six rows of the dataset
head(pirates)

# we can calculate the mean age of the pirates in the dataset
mean(pirates$age)
# the maximum age
max(pirates$age)
# and create a count table of the pirates' genders
table(pirates$sex)

# we can make a scatterplot with the pirates' height on the x-axis and the pirates' weight on the y-axis
plot(pirates$height, pirates$weight)

# we can customize that plot
plot(x = pirates$height, y = pirates$weight,
     main = "Look, Ma! A scatterplot!",
     xlab = "Height (in cm)",
     ylab = "Weight (in cm)",
     pch = 16,
     col = gray(.0, .1))

# we can make violin plots looking comparing the ages of the pirates across their swords of choice
pirateplot(formula = age ~ sword.type,
           data = pirates,
           main = "Pirateplot of age by favorite sword")

# we can run a t-test comparing the mean age of pirates with a headband and the mean age of pirates without a headband
t.test(formula = age ~ headband,
       data = pirates,
       alternative = "two.sided")

# we can construct a linear model predicting the number of tattoos a pirate has from their sword of choice
tat.sword.lm <- lm(formula = tattoos ~ sword.type,
                   data = pirates)

# and we can conducted an analysis of variance looking at whether the number of tattoos differs by their sword of choice
anova(tat.sword.lm)
```

## Importing Data into R {#data}

The final topic that we will cover in this lab is how to load data into R. Over the course of your grad school careers (and many times in this class) you will need to import data into R to be analyzed.

For this example, we will be using the planet's dataset from Star Wars. [The data can be downloaded here.](https://docs.google.com/spreadsheets/d/1W577PILjAkOSTNw7r85jjHrJaaXuOkiPuQcu2yA6F58/export?format=xlsx)

When I took this course, you would have to use file-type-specific functions to load data (e.g., `read.csv`, `read_excel`). The `rio` package streamlines this process by having a single import function (`import()`) that interprets the file type to be imported from its extension (e.g., `.csv`, `.xlsx`, `.sav`). As we did for `psych`, we will first need to install `rio`.

```{r, eval = FALSE}
install.packages("rio")
```

Second, we will need to load `rio`.

```{r}
library(rio)
```

Once this is done, importing the data is as easy as passing the location of the downloaded file to `import` and saving the data into a variable (called `planets_data` here). In this case, the `sw_planets.xlsx` was saved to my `downloads` folder. If it was in a folder called `data_sets` on my desktop, I would have used `"~/Downloads/data_sets/sw_people.xlsx"` as the argument.

```{r, eval = FALSE}
planets_data <- import("~/Downloads/sw_planets.xlsx")
```

The tilde (`~`) in the above string is a shortcut for the home directory on my computer. On my computer, it represents `/Users/cameronkay`. Replacing the tilde with the path to the home directory should have the exact same result as using the tilde.

```{r, eval = FALSE}
planets_data <- import("/Users/cameronkay/Downloads/sw_planets.xlsx")
```

To ensure it was read in properly, we can look at the first six rows of the imported dataset by using the `head()` function and the last six rows by using the `tail()` function.

```{r, eval = FALSE}
head(people_data)
tail(people_data)
```

***

# Minihacks {#minihacks}

## Minihack 1: Create an R Markdown Document

1. Create an `R Markdown` document called `lab1_minihacks`.

## Minihack 2: Arithmetic Commands

1. Use R to solve for $x$: $$x = \frac{(102 + 68) \times (3 + 2) + 1250}{50}$$

1. Assign the $x$ to a variable called `x`. 

1. Assign the numbers `10`, `20`, and `30` to a vector called `y`.

1. Add `x` to the length of `y` (*hint.* Use `length()`), and assign the result to a variable called `z`.

## Minihack 3: Functions

1. Assign the string `"I AM NOT YELLING"` to a variable called `exclamation`.

1. Use the function `tolower()` to uncapitalize `exclamation`. Assign the result to `exclamation`.

1. Use the `capitalize()` function from the `Hmisc` package to capitalize the first letter of `exclamation` (*hint.* You will need to install and load `Hmisc`).

## Minihack 4: Accessing Help Documentation

1. I wanted to create a vector of `5` values between `10` and `50` using `seq()`, but the code I wrote is creating a vector of 9 values between `10` and `50`. I believe it has something to do with the arguments I used, but I can't remember how to access the help documention to check. Without changing the values, can you fix my code?

```{r}
seq(10, 50, 5)
```

## Minihack 5: Data Frames

1. Download the [Star Wars' people dataset](https://docs.google.com/spreadsheets/d/1AOYucRfucMR2TCBqzIdnlZoqXK4nyzPZCRzMztftCSg/export?format=xlsx).

1. Import the data into R and assign it to a variable called `people_data`. 

1. Using `$` and `mean()`, calculate the mean age of the characters from Star Wars. (*hint.* You may need to supply an additional argument to exclude *NA*s). 

1. Extract `Lando Calrissian`'s homeworld from the dataset using square brackets (`[]`) and assign to a variable called `landos_homeworld`. 


