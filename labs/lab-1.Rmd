---
title: "Lab 1: Introduction to R and RStudio"
output: 
  html_document: 
    theme: cosmo
    toc: yes
    toc_depth: 3
    toc_float: TRUE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

# suppress scientific notation
options(scipen = 999)
```

# Getting Started

R is a highly flexible, yet intuitive, open-source programming language used for statistical computing. It is relatively new (as relatively new as one of your GEs), but it has an engaged following of data scientists and developers.

![](`r here::here("labs", "resources", "lab1", "lab1_flow.png")` "Flow")

Only one piece of software is required to get started using the *R* programming language and, confusingly, it is also called *R*. I will refer to it here as the *R Engine*. The *R Engine* essentially allows the computer to understand the *R* programming language, turning your lines of text into computer operations. Unlike other statistics programs (e.g., SPSS, SAS), the *R Engine* is free. [Instructions for downloading the R Engine](#download_r) are below.

A second piece of software that is not required to use R but is nonetheless useful is [RStudio](https://www.rstudio.com). [RStudio](https://www.rstudio.com) is an *integrated development environment* (IDE) or, in potentially overly simplistic terms, a tool that helps you interact with the *R Engine*. [Instructions for downloading the RStudio](#download_rstudio) are below.

## Downloading the R Engine {#download_r}

1. Navigate to the webpage for the [Comprehensive R Archive Network](https://cran.r-project.org) (commonly referred to as CRAN).
1. Under "Download and Install R" click the appropriate link for your operating system. I am using a Mac, so I would click [Download R for (Mac) OS X](https://cran.r-project.org/bin/macosx/).
1. Click the link for the latest release. As of writing this, the newest package is `R 3.6.1. "Action of the Toes"` (all version nicknames are references to the [Peanuts comic strip](https://twitter.com/snoopy/status/976452382480531458)). I would click `R-3.6.1.pkg` to start the download.
1. Once the file is downloaded, click on it to open it. Your operating system should guide you through the rest of the installation process. 

*Note.* Perhaps unintuitively, the same steps are used to update the R Engine. You are simply replacing the old version of the R Engine with the new version.

## Downloading RStudio {#download_rstudio}
<!--1. Navigate to the webpage for [RStudio](https://www.rstudio.com).
1. Click [Download RStudio](https://www.rstudio.com/products/rstudio/download/).
1. Click the [Download](https://www.rstudio.com/products/rstudio/download/#download) listed under the free version. For our purposes (and, in fact, for most people's purposes) the free version is all that is needed.-->
1. Navigate to the webpage for the free version of [RStudio](https://www.rstudio.com/products/rstudio/download/#download). For our purposes (and, in fact, for most people's purposes) the free version is all that is needed. The available installers are listed at the bottom of the page under the heeader "Installers for Supported Platforms."
1. Select the installer for your operating system. Since I am using a Mac, I would click `RStudio 1.2.1335 - macOS 10.12+ (64-bit)`.
1. Once the file is downloaded, click on it to open it. Your operating system should guide you through the rest of the installation process. 

*Note.* To update [RStudio](https://www.rstudio.com) after it is already installed, all you have to do is navigate to `Help > Check for Updates` in the menubar. 

# Features of RStudio

As shown in the image below, an [RStudio](https://www.rstudio.com) session is split into four sections called panes: [the source pane](#rstudio_source), [the console](#rstudio_console), [the environment/history pane](#rstudio_environment), and the succinctly named [files/plots/packages/help pane](#rstudio_files).

![](`r here::here("labs", "resources", "lab1", "lab1_rstudio_4panel.jpg")` "Four Panes of RStudio")

## The Console {#rstudio_console}

In RStudio, the console is the access point to the underlying R-engine. It evaluates the code you provide it (including code called using the [the source pane](#rstudio_source)). You can pass commands to the R-engine by typing in commands after the `>`.

![](`r here::here("labs", "resources", "lab1", "lab1_rstudio_console.png")` "RStudio Console Pane")

## Source {#rstudio_source}

The source pane shows you a collection of code called a script. In R, we primarily work with `R Script` files (files ending in `.R`) or `R Markdown` files (files ending in `.Rmd`). In this class, we will primarily be working with `R Markdown` files. The document you are reading right now was made with `R Markdown`.

![](`r here::here("labs", "resources", "lab1", "lab1_rstudio_source.png")` "RStudio Source Pane")

## Environment/History {#rstudio_environment}

The environment and history pane shows, well, your environment and history. Specifically, if you have the "Environment" tab selected, you will see a list of all the variables that exist in your work environment. If you have the "History" tab selected, you will see previous commands that you passed to the console. 

![](`r here::here("labs", "resources", "lab1", "lab1_rstudio_environment.png")` "RStudio Environment Pane")

## Files/Plots/Packages/Help {#rstudio_files}
The final pane, the files/plots/packages/help pane, includes a number of helpful tabs. The "Files" tab shows you the files in your current working directory, the "Plots" tab shows you a preview of any plots you have created, the "Packages" tab shows you a list of the packages currently installed on your computer, and the "Help" tab is where help documentation will appear. We will discuss packages and help documentation later in this lab.

![](`r here::here("labs", "resources", "lab1", "lab1_rstudio_files.png")` "RStudio Files Pane")

# The Basics of Coding in R

## Arithmetic commands

As mentioned above, you can pass commands to the R-engine via the console. R has arithmetic commands for adding,
```{r}
10 + 5
```
subtracting,
```{r}
10 - 5
```
multiplying,
```{r}
10 * 5
```
dividing, 
```{r}
10 / 5
```
and exponentiating.
```{r}
10^5
```

You can use parenthesss to tell R what parts of the equation you want to be evaluated first. As shown below and as expected, `(10 + 5) * 2` and `10 + 5 * 2` do not result in the same value.

```{r}
(10 + 5) * 2
10 + 5 * 2
```

## Functions

Functions are essentially snippets of code that you can use to make your code more efficient.

## Creating Variables

```{r}
x <- 10
```

## Creating Vectors

```{r}
paste("hello", "world")

mean(c(1, 2, 3, 4, 5))



mean(c(10, 10, 20, 20, 30)) 
(10 + 10 + 20 + 20 + 30) / 5



median(c(10, 10, 20, 20, 30))
sum(c(10, 10, 20, 20, 30))
sd(c(10, 10, 20, 20, 30))
```



## Comments

Comments are pieces of text that are not interpreted by the computer. In R we use an octothorp/pound-sign/hashmark/hashtag at the beginning of the line to denote a comment. In the example below, the first and third line of code would not not be evaluated while the second and fourth line would be.

```{r, eval = FALSE}
# 1 + 1
2 + 2
# 3 + 3
4 + 4
```

## Help Documentation

Sometimes when working in R you will want to know more about a function. For example, you might want to know what arguments the function `sd` takes. You can use `?` at the beginning of any function call to display the help documentation.

```{r, eval = FALSE}
?sd
```

![](`r here::here("labs", "resources", "lab1", "lab1_help.png")` "Help Documentation")

From the help documentation we can see that `sd` takes two arguments: (1) An R object and (2) a TRUE or FALSE statement indicating whether `NA`s should be removed from the dataset.

The help documentation for a function also often includes an example of how to use the function and details on what the output will be.

# Packages

A package is collection of code, documentation for that code, and, potentially data. A helpful way to think of packages and functions is as a toolbox full of tools. There are general purpose toolboxes that contain tools for running common analyses in psychology (e.g., `psych`), toolboxes for helping your run advanced statistical models (e.g., `lavaan`; `lmer`), toolboxes for text mining (e.g., `tidytext`), and toolboxes for plotting (e.g., `ggplot2`, `gganimate`). If you have a problem that needs to be solved, there will likely be a package for it. 

The tools of these toolboxes are called functions. Functions take a number of inputs (i.e., `arguments`) and returns some output (called the `values`). For example, the `corr.test` function in the `psych` package takes a dataframe and returns the correlations of all the variables in the dataset and the p-values for each of those correlations.

## Installing a package

To install a package onto your computer, you simply pass the name of the package to `install.packages()`. As a demonstration, we install the the `yarrr` package below. 

```{r, eval = FALSE}
install.packages("yarrr")
```

*Note.* When installing packages, the package name must be enclosed in quotes: `install.packages("yarrr")` *NOT* `install.packages(yarrr)`.

## Loading a package

Just because we've installed a package doesn't mean we have access to its functions. Returning to our analogy from above, just because we have a toolbox doesn't mean we have access to it. If it is the basement, we need to get it before we start working in the attic. To load the `yarrr` package and make its tools available to us

```{r}
library(yarrr)
```

*Note.* A package can be loaded with or without quotes: `library("yarrr")` *OR* `library(yarrr)`.

# Try commands in R

Adapted from [__YaRrr: A Pirate's Guide to R__](https://bookdown.org/ndphillips/YaRrr/).

```{r}
# to get help documentation for any package or function use a question mark
?pirates

head(pirates)

mean(pirates$age)
max(pirates$age)
table(pirates$sex)

plot(pirates$height, pirates$weight)

#customize
plot(x = pirates$height, y = pirates$weight, 
     main = "Look, Ma! A scatterplot!",
     xlab = "Height (in cm)",
     ylab = "Weight (in cm)",
     pch = 16, 
     col = gray(.0, .1))

pirateplot(formula = age ~ sword.type,
           data = pirates, 
           main = "Pirateplot of age by favorite sword")

# run a t-test
t.test(formula = age ~ headband, 
       data = pirates, 
       alternative = "two.sided")

# Create tattoos model
tat.sword.lm <- lm(formula = tattoos ~ sword.type,
                   data = pirates)

# Get ANOVA table
anova(tat.sword.lm)
```


# Functions and vectors

## Arithmetic functions on vectors

## `Length()`


# Commands







